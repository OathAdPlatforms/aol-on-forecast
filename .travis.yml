language: scala

scala:
  - 2.11.8

before_script:
  - docker login -u=$DOCKERHUB_UNAME -p=$DOCKERHUB_PASS

script:
  # Build client jar and push to Maven Central
  - cd client #&& sbt compile publishSigned sonatypeRelease
  # Build server and push image to Dockerhub
  - cd ../server && mvn clean install docker:build && docker push vidible/forecast-api:2.0.0
